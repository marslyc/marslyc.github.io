import{S as R,o as W,N as z,Y as A,k as H,a as g,Z as P,u as I,W as B,v as j,m as G,n as O,R as q,V as D}from"./three.module-DxqIPYNp.js";import{O as F}from"./OrbitControls-UtDBv3EV.js";import{_ as U,r as V,o as Y,f as N,c as X,a as Z}from"./index-Dg4VZWRd.js";const $={__name:"Raycaster",setup(J){let f=document.querySelector(".left-menu").offsetWidth||180,a=window.innerWidth-f,o=window.innerHeight,p=V();const s=new R,t=new W(75,a/o,.1,100);t.position.set(0,0,12),s.add(t);let L=new z(.5,16,16),b=new A({color:16777215});new H({color:"#ff0000"});let C=new g(16777215),c=4,S=Math.pow(c,3),i=new P(L,b,S),d=0,w=(c-1)/2,u=new I;for(let n=0;n<c;n++)for(let r=0;r<c;r++)for(let l=0;l<c;l++)u.setPosition(w-n,w-r,w-l),i.setMatrixAt(d,u),i.setColorAt(d,C),d=d+1;s.add(i);const e=new B;e.setSize(a,o),e.shadowMap.enabled=!0,e.physicallyCorrectLights=!0;const x=new F(t,e.domElement);x.enableDamping=!0;const k=new j(5);s.add(k);function _(){x.update(),e.render(s,t),requestAnimationFrame(_)}_();let E=new G(16777215,.5);s.add(E);let m=new O("#ffffff",1);m.castShadow=!0,m.position.set(0,0,200),s.add(m);let y=new q,h=new D,M=n=>{h.x=(n.clientX-f)/a*2-1,h.y=-(n.clientY/o)*2+1,y.setFromCamera(h,t);let r=y.intersectObject(i);if(r[0]){let l=r[0].instanceId;i.setColorAt(l,new g(16711680)),i.instanceColor.needsUpdate=!0}};window.addEventListener("click",M);let v=()=>{a=window.innerWidth-f,o=window.innerHeight,t.aspect=a/o,t.updateProjectionMatrix(),e.setSize(a,o),e.setPixelRatio(window.devicePixelRatio)};return window.addEventListener("resize",v),Y(()=>{p.value.appendChild(e.domElement)}),N(()=>{window.removeEventListener("resize",v),window.removeEventListener("click",M)}),(n,r)=>(Z(),X("div",{id:"box1",ref_key:"raycasterScene",ref:p},null,512))}},ee=U($,[["__scopeId","data-v-71542ccb"]]);export{ee as default};
