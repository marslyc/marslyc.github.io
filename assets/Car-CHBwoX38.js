import{S as K,o as X,ag as Y,ae as f,n as o,W as Z,l as ee}from"./three.module-DxqIPYNp.js";import{O as te}from"./OrbitControls-UtDBv3EV.js";import{G as se}from"./GLTFLoader-CeTFqpKO.js";import{D as ae}from"./DRACOLoader-BFhmOIHI.js";import{_ as oe,r as j,o as ne,f as le,c as d,b as l,F as q,d as A,u as m,a as u,i as re,n as ie,t as ce,p as fe,e as de}from"./index-CN0LzfL9.js";const U=p=>(fe("data-v-de10b057"),p=p(),de(),p),me={id:"car"},ue={class:"home-content"},pe=U(()=>l("h2",null,"选择车身颜色",-1)),he={class:"select"},we=["onClick"],ge=U(()=>l("h2",null,"选择贴膜材质",-1)),_e={class:"select"},ve=["onClick"],Ce={class:"select-item-text"},Me={__name:"Car",setup(p){let g=document.querySelector(".left-menu").offsetWidth||180,r=window.innerWidth-g,i=window.innerHeight,t=new K,n=new X(75,r/i,.1,1e3);n.position.set(0,2,6),n.aspect=r/i,n.updateProjectionMatrix(),t.add(n);let _=new Y(10,10);_.material.opacity=.2,_.material.transparent=!0,t.add(_);let S=j(0),b,v=new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0}),C=new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0});new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0});let M=new f({color:0,metalness:1,roughness:.1}),$=new f({color:16777215,metalness:0,roughness:0,transmission:1,ior:3}),x=["red","blue","green","black"],N=s=>{v.color.set(x[s]),C.color.set(x[s])},y=[{name:"水晶",value:0},{name:"磨砂",value:1}],Q=s=>{S.value=s,v.clearcoatRoughness=y[s].value,C.clearcoatRoughness=y[s].value},k=new se,h=new ae;h.setDecoderPath("/draco/gltf/"),h.setDecoderConfig({type:"js"}),h.preload(),k.setDRACOLoader(h);let T=new URL("/assets/car-D-E2U97Q.glb",import.meta.url).href;k.load(T,s=>{let w=s.scene;w.position.set(.3,-1.4,0),t.add(w),w.traverse(e=>{e.isMesh&&e.name.includes("Mesh")&&(e.material=M),e.isMesh&&e.name.includes("网格")&&(b=e,b.material=v),e.isMesh&&e.name.includes("Circle")&&(e.material=C),(e.isMesh&&e.name=="Circle002"||e.name=="Circle004")&&(e.material=M),e.isMesh&&e.name.includes("Plane")&&(e.material=$),e.isMesh&&e.name=="Plane008"&&(e.material=M)})},s=>{console.log(s.loaded/s.total*100+"% loaded")});const L=new o(16777215,1);L.position.set(0,0,10),t.add(L);const R=new o(16777215,1);R.position.set(0,0,-10),t.add(R);const D=new o(16777215,1);D.position.set(10,0,0),t.add(D);const P=new o(16777215,1);P.position.set(-10,0,0),t.add(P);const W=new o(16777215,1);W.position.set(0,10,0),t.add(W);const z=new o(16777215,.3);z.position.set(5,10,0),t.add(z);const E=new o(16777215,.3);E.position.set(0,10,5),t.add(E);const I=new o(16777215,.3);I.position.set(0,10,-5),t.add(I);const B=new o(16777215,.3);B.position.set(-5,10,0),t.add(B);let a=new Z({antialias:!0});a.setSize(r,i),a.shadowMap.enabled=!0,a.physicallyCorrectLights=!0,a.setClearColor(13421772,1),g=document.querySelector(".left-menu").offsetWidth||180;let H=()=>{r=window.innerWidth-g,i=window.innerHeight,n.aspect=r/i,n.updateProjectionMatrix(),a.setSize(r,i),a.setPixelRatio(window.devicePixelRatio)};window.addEventListener("resize",H);let F=new te(n,a.domElement);F.enableDamping=!0;let V=new ee,G=()=>{V.getDelta(),F.update(),requestAnimationFrame(G),a.render(t,n)};G();let O=j(null);return ne(()=>{O.value.appendChild(a.domElement)}),le(()=>{window.removeEventListener("resize",H)}),(s,w)=>(u(),d("div",me,[l("div",{class:"container",ref_key:"carScene",ref:O},null,512),l("div",ue,[pe,l("div",he,[(u(!0),d(q,null,A(m(x),(e,c)=>(u(),d("div",{class:"select-item",key:c,onClick:J=>m(N)(c)},[l("div",{class:"select-item-color",style:re({backgroundColor:e})},null,4)],8,we))),128))]),ge,l("div",_e,[(u(!0),d(q,null,A(m(y),(e,c)=>(u(),d("div",{class:ie(["select-item-label",{active:m(S)==c}]),key:c,onClick:J=>m(Q)(c)},[l("div",Ce,ce(e.name),1)],10,ve))),128))])])]))}},Le=oe(Me,[["__scopeId","data-v-de10b057"]]);export{Le as default};
