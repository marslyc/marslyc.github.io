import{T as k,R as I,r as F,S as V,q,p as J,Y as y,aN as H,V as Y,M as C,d as K,c as s,B as Q,L as X,w as Z,W as $,l as ee}from"./three.module-B9tCJV9l.js";import{O as ne}from"./OrbitControls-tDbgpgFB.js";import{C as g,a as te}from"./CSS2DRenderer-Cjblm300.js";import{r as ie,o as ae,h as oe,c as se,a as re}from"./index-DqTGYrXG.js";const pe={__name:"Earth",setup(le){let w=ie(null),t,e,a,n,j=new ee,r=new k,l,c,i,p,_=new I;P(),R();function P(){e=new F(45,window.innerWidth/window.innerHeight,.1,200),e.position.set(0,5,-10),t=new V;const d=new q(16777215);d.position.set(0,0,1),t.add(d);const m=new J(16777215,1);t.add(m);let f=new URL("/assets/earth_atmos_2048-d1pdJ3jg.jpg",import.meta.url).href,u=new URL("/assets/earth_specular_2048-6aAFN27D.jpg",import.meta.url).href,D=new URL("/assets/earth_normal_2048-BD2vMuPH.jpg",import.meta.url).href;const W=new y(1,16,16),A=new H({specular:3355443,shininess:5,map:r.load(f),specularMap:r.load(u),normalMap:r.load(D),normalScale:new Y(.85,.85)});c=new C(W,A),t.add(c);let O=new URL("/assets/moon_1024-D_Wp7Gh9.jpg",import.meta.url).href;const T=new y(.27,16,16),U=new H({shininess:5,map:r.load(O)});l=new C(T,U),t.add(l),p=new K([new s(-3,2,-3),new s(-3,3,-3),new s(0,0,5),new s(3,-5,3),new s(5,0,5)],!0);let z=p.getPoints(50),N=new Q().setFromPoints(z),B=new X({color:16777215}),G=new Z(N,B);t.add(G);const L=document.createElement("div");L.className="label",L.innerHTML="地球";const E=new g(L);E.position.set(0,1,0),c.add(E);const S=document.createElement("div");S.className="label1",S.innerHTML="中国",i=new g(S),i.position.set(-.3,.5,-.9),c.add(i);const v=document.createElement("div");v.className="label",v.innerHTML="月球";const M=new g(v);M.position.set(0,.3,0),l.add(M),n=new te,n.setSize(window.innerWidth,window.innerHeight),n.domElement.style.position="absolute",n.domElement.style.top="0px",n.domElement.style.left="0px",n.domElement.style.zIndex="10",a=new $,a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),ae(()=>{w.value.appendChild(n.domElement),w.value.appendChild(a.domElement)});const x=new ne(e,n.domElement);x.minDistance=5,x.maxDistance=100,window.addEventListener("resize",b),oe(()=>{window.removeEventListener("resize",b)})}function b(){e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight),n.setSize(window.innerWidth,window.innerHeight)}function R(){requestAnimationFrame(R);const h=j.getElapsedTime(),o=i.position.clone(),d=o.distanceTo(e.position);o.project(e),_.setFromCamera(o,e);const m=_.intersectObjects(t.children,!0);m.length==0?i.element.classList.add("visible"):m[0].distance<d?i.element.classList.remove("visible"):i.element.classList.add("visible");const f=h/10%1,u=p.getPoint(f);l.position.copy(u),n.render(t,e),a.render(t,e)}return(h,o)=>(re(),se("div",{id:"box1",class:"earthScene",ref_key:"earthScene",ref:w},null,512))}};export{pe as default};
