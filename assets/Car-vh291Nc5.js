import{S as K,o as X,ag as Y,ae as f,n as o,W as Z,l as ee}from"./three.module-DxqIPYNp.js";import{O as te}from"./OrbitControls-UtDBv3EV.js";import{G as ae}from"./GLTFLoader-CeTFqpKO.js";import{D as se}from"./DRACOLoader-BFhmOIHI.js";import{_ as oe,r as j,o as ne,f as re,c as d,b as r,F as q,d as A,u as m,a as u,i as le,n as ie,t as ce,p as fe,e as de}from"./index-Dg4VZWRd.js";const U=p=>(fe("data-v-fa50002d"),p=p(),de(),p),me={id:"car"},ue={class:"home-content"},pe=U(()=>r("h2",null,"选择车身颜色",-1)),he={class:"select"},we=["onClick"],ge=U(()=>r("h2",null,"选择贴膜材质",-1)),_e={class:"select"},ve=["onClick"],Ce={class:"select-item-text"},Me={__name:"Car",setup(p){let g=document.querySelector(".left-menu").offsetWidth||180,l=window.innerWidth-g,i=window.innerHeight,t=new K,n=new X(75,l/i,.1,1e3);n.position.set(0,2,6),n.aspect=l/i,n.updateProjectionMatrix(),t.add(n);let _=new Y(10,10);_.material.opacity=.2,_.material.transparent=!0,t.add(_);let S=j(0),k,v=new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0}),C=new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0});new f({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:0});let M=new f({color:0,metalness:1,roughness:.1}),$=new f({color:16777215,metalness:0,roughness:0,transmission:1,transparent:!0}),x=["red","blue","green","black"],N=a=>{v.color.set(x[a]),C.color.set(x[a])},y=[{name:"水晶",value:0},{name:"磨砂",value:1}],Q=a=>{S.value=a,v.clearcoatRoughness=y[a].value,C.clearcoatRoughness=y[a].value},L=new ae,h=new se;h.setDecoderPath("/draco/gltf/"),h.setDecoderConfig({type:"js"}),h.preload(),L.setDRACOLoader(h);let T=new URL("/assets/car-D-E2U97Q.glb",import.meta.url).href;L.load(T,a=>{let w=a.scene;w.position.set(.3,-1.4,0),t.add(w),w.traverse(e=>{e.isMesh&&e.name.includes("Mesh")&&(e.material=M),e.isMesh&&e.name.includes("网格")&&(k=e,k.material=v),e.isMesh&&e.name.includes("Circle")&&(e.material=C),(e.isMesh&&e.name=="Circle002"||e.name=="Circle004")&&(e.material=M),e.isMesh&&e.name.includes("Plane")&&(e.material=$),e.isMesh&&e.name=="Plane008"&&(e.material=M)})},a=>{console.log(a.loaded/a.total*100+"% loaded")});const b=new o(16777215,1);b.position.set(0,0,10),t.add(b);const R=new o(16777215,1);R.position.set(0,0,-10),t.add(R);const D=new o(16777215,1);D.position.set(10,0,0),t.add(D);const P=new o(16777215,1);P.position.set(-10,0,0),t.add(P);const W=new o(16777215,1);W.position.set(0,10,0),t.add(W);const z=new o(16777215,.3);z.position.set(5,10,0),t.add(z);const E=new o(16777215,.3);E.position.set(0,10,5),t.add(E);const I=new o(16777215,.3);I.position.set(0,10,-5),t.add(I);const B=new o(16777215,.3);B.position.set(-5,10,0),t.add(B);let s=new Z({antialias:!0});s.setSize(l,i),s.shadowMap.enabled=!0,s.physicallyCorrectLights=!0,s.setClearColor(13421772,1),g=document.querySelector(".left-menu").offsetWidth||180;let H=()=>{l=window.innerWidth-g,i=window.innerHeight,n.aspect=l/i,n.updateProjectionMatrix(),s.setSize(l,i),s.setPixelRatio(window.devicePixelRatio)};window.addEventListener("resize",H);let F=new te(n,s.domElement);F.enableDamping=!0;let V=new ee,G=()=>{V.getDelta(),F.update(),requestAnimationFrame(G),s.render(t,n)};G();let O=j(null);return ne(()=>{O.value.appendChild(s.domElement)}),re(()=>{window.removeEventListener("resize",H)}),(a,w)=>(u(),d("div",me,[r("div",{class:"container",ref_key:"carScene",ref:O},null,512),r("div",ue,[pe,r("div",he,[(u(!0),d(q,null,A(m(x),(e,c)=>(u(),d("div",{class:"select-item",key:c,onClick:J=>m(N)(c)},[r("div",{class:"select-item-color",style:le({backgroundColor:e})},null,4)],8,we))),128))]),ge,r("div",_e,[(u(!0),d(q,null,A(m(y),(e,c)=>(u(),d("div",{class:ie(["select-item-label",{active:m(S)==c}]),key:c,onClick:J=>m(Q)(c)},[r("div",Ce,ce(e.name),1)],10,ve))),128))])])]))}},be=oe(Me,[["__scopeId","data-v-fa50002d"]]);export{be as default};
